## 虚拟机规范
将256位二进制值解释为整数时，表示采用大端字节序。

当将256位机器数据转换为160位地址或哈希值时，使用右侧（对于大端字节序而言是低位）的20个字节，左侧的12个字节被丢弃或填充为零，因此整数值（当将字节解释为大端字节序时）是等效的。

### 1. Gas Cost 
一般的Gas Cost函数C定义如下：

![image](./img/evm1.png)

![image](./img/evm2.png)

其中， ${C_{CALL}}$ 、 ${C_{SELFDESTRUCT}}$ 、 ${C_{SLOAD}}$ 和 ${C_{SSTORE}}$ 的定义如下所述。我们定义以下指令的子集：

![image](./img/evm3.png)

请注意内存成本部分，它是 ${G_{memory}}$ 和当前单词数目 ${µ_i}$ 与 0 及其向上取整的乘积。这样，无论是读取还是写入，所有访问都必须引用有效的内存。这些访问必须针对非零字节数。

引用零长度范围（例如，尝试将其作为CALL的输入范围传递）不需要将内存扩展到范围的开头。 ${µ_i'}$ 被定义为活动内存的新最大单词数；在这两者不相等的情况下给出特例。

请注意， ${C_{mem}}$ 是内存成本函数（扩展函数是成本之前和之后的差异）。它是一个多项式，高阶系数被除以并向下取整，因此在使用的内存达到704B之前是线性的，之后成本大幅增加。
在定义指令集时，我们定义了范围函数 ${M}$ 的内存扩展，如下：

![image](./img/evm4.png)

另一个有用的函数是"除了一个64分之一"的函数 ${L}$ ，定义如下：

![image](./img/evm5.png)


### 指令集。
如前所述，在第9节中，这些定义发生在那里的最终上下文中。特别是，我们假设 $O$ 是EVM状态进展函数，并定义与下一个周期状态 $（σ',µ'）$ 相关的术语。

![image](./img/evm6.png)

以下是根据第9节中给出的状态转换规则为每个指令指定的各种异常情况，以及J和C的额外指令特定定义。对于每个指令，还指定了α，即放置在堆栈上的额外项，以及δ，即从堆栈中移除的项，如第9节所定义。

#### 0s:停止和算术操作
除非另有说明，所有算术运算都是模 ${2^{256}}$ 运算。零的零次幂 ${0^0}$ 被定义为1。

![image](./img/操作码1.png)

#### 10s:比较和位逻辑操作
![image](./img/操作码2.png)

#### 20s:KECCAK256
![image](./img/操作码3.png)

#### 30s:环境信息
![image](./img/操作码4.png)










